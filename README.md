# Medical Examination Question Analyzer

This project identifies similar questions that appear across different medical examinations and provides tools to visualize the results.

## Project Structure

The project is organized into two main components:

### 1. Python Analyzer (`/python_analyzer`)

This directory contains Python scripts for analyzing JSON examination files and identifying similar questions.

- `question_analyzer.py` - The main script for analyzing questions and finding similarities
- `question_analyzer_simple.py` - A simplified version of the analysis script
- `sample_exam1.json`, `sample_exam2.json`, `sample_exam3.json` - Sample examination files
- `similar_questions.json` - Output file containing groups of similar questions
- `requirements.txt` - Python dependencies

#### Usage

```bash
cd python_analyzer
python question_analyzer_simple.py sample_exam1.json sample_exam2.json sample_exam3.json
```

For more details on the Python analyzer, refer to the original README file in this directory.

### 2. Web Viewer (`/website`)

This directory contains a web-based visualization tool to explore the similar questions found by the analyzer.

- `index.html` - Main HTML file
- `styles.css` - CSS styles for the web interface
- `script.js` - JavaScript code for the interactive features
- `similar_questions.json` - The data file generated by the Python analyzer
- `README.md` - Instructions for the web interface

#### Usage

To view the similar questions in your browser, you can:

1. Start a local web server in the `/website` directory:
   ```bash
   cd website
   python -m http.server 8080
   ```
   
2. Open your browser and navigate to `http://localhost:8080`

Alternatively, you can open the `index.html` file directly in your browser.

## How It Works

1. The Python analyzer processes JSON files containing examination questions
2. It identifies similar questions using a sophisticated algorithm
3. The results are saved to `similar_questions.json`
4. The web interface loads this JSON file and displays the questions in an interactive format

## Features

- Identify similar questions across different exams
- Compare question text, answer choices, and correct answers
- Visualize similarities and differences
- Filter and search through the identified similar questions

## Requirements

- Python 3.6+
- No external packages required (standard library only)

## Input Format

Each JSON file should contain an array of question objects with the following structure:

```json
{
  "number": 1,
  "question": "Text of the question",
  "choices": {
    "a": "Choice A",
    "b": "Choice B",
    "c": "Choice C",
    "d": "Choice D"
  },
  "answer": "a",
  "section": "Title of the section",
  "reference": "Page number and short note"
}
```

## Output

The script will generate a file named `similar_questions.json` containing groups of similar questions found across the examinations. The output follows this structure:

```json
[
  {
    "number": 1,
    "question": {
      "exam1": "Question from exam1",
      "exam2": "Similar question from exam2"
    },
    "choices": {
      "exam1": {
        "a": "Choice A",
        "b": "Choice B",
        "c": "Choice C",
        "d": "Choice D"
      },
      "exam2": {
        "a": "Choice A",
        "b": "Choice B",
        "c": "Choice C",
        "d": "Choice D"
      }
    },
    "answer": {
      "exam1": "a",
      "exam2": "a"
    },
    "reference": {
      "exam1": {
        "number": 10,
        "section": "Section title",
        "reference": "Page reference"
      },
      "exam2": {
        "number": 15,
        "section": "Section title",
        "reference": "Page reference"
      }
    }
  }
]
```

## How the Similarity Algorithm Works

The script uses a dynamic, multi-faceted approach to determine question similarity, adaptable to any medical specialty or domain:

1. **Key Concept Extraction**: The algorithm first analyzes all questions to identify domain-specific terms that appear frequently. These terms are more likely to represent important concepts in the particular medical specialty.

2. **Text Preprocessing**: Questions and choices are preprocessed by:
   - Converting to lowercase
   - Removing special characters
   - Filtering out common English words

3. **Similarity Calculation**: The algorithm combines multiple similarity metrics:
   - **Sequence Similarity**: Uses Python's `difflib` to measure overall text similarity
   - **Term Overlap**: Computes Jaccard similarity between domain-specific terms
   - **Key Concept Overlap**: Gives additional weight when questions share important domain concepts
   - **Answer Matching**: Questions with the same answer receive a similarity boost
   - **Section Relatedness**: Questions from related sections receive a boost

4. **Adaptive Weighting**: The algorithm applies:
   - Similarity discounts when questions contain different key concepts
   - Similarity boosts when questions share significant key concepts

The system dynamically adapts to any set of medical questions without requiring hard-coded specialty terms or manual configuration. The threshold can be adjusted to control the sensitivity of similarity detection.

## Notes

This script is designed to handle examination questions from any medical specialty or domain. It doesn't rely on hard-coded lists of medical terms, but instead dynamically identifies domain-specific terminology based on the actual contents of your question sets. 